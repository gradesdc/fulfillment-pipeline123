# 통합 풀필먼트 관제 & 이상감지 대시보드 (Fulfillment Monitoring Dashboard)

> 여러 스토어(멀티채널) 주문을 **한 곳의 풀필먼트에서 통합 처리**한다고 가정하고,  
> **실시간 지표/이벤트/알림(HOLD)·운영 액션**까지 한 화면에서 관리할 수 있는 관제 시스템을 구현했습니다.

<br/>

## 1) 프로젝트 배경 (왜 만들었나)

과거에는 택배가 며칠씩 걸리는 것이 일반적이었지만, 최근에는 **당일/익일 배송**이 빠르게 보편화되었습니다.  
이 과정에서 다양한 풀필먼트 시스템이 도입되었고, 판매자는 더 빠른 출고를 위해 여러 풀필먼트에 재고를 분산하기도 합니다.

하지만 **풀필먼트가 여러 곳으로 분산되면**:

- 제품별 보관·출고 수수료가 **중복** 발생하고
- 센터별 판매 편차로 재고가 **한쪽에 묶이거나 부족**해지며
- 운영 지표/이슈(지연·재고·이상거래 등)를 **한눈에 파악하기 어려워집니다**

그래서 본 프로젝트는 **“한 곳에서 통합 풀필먼트 운영 + 멀티 스토어 주문 접수/출고”** 구조를 가정하고,  
이를 가능하게 하는 **실시간 데이터 파이프라인 + 대시보드 + 이상감지/알림 워크플로우**를 구현하는 것을 목표로 했습니다.

<br/>

## 2) 핵심 목표

- **실시간 이벤트 기반 관제**: 주문 상태 변화(이벤트)를 흐름으로 추적
- **이상/예외 조기 감지**: HOLD/ALERT 생성(재고, 정보 누락, 이상거래 등)
- **운영 워크플로우 제공**: 알림 상태 변경(ACK/RESOLVED/RETRY)으로 운영 액션 기록
- **조회 성능 확보**: `metrics_window`에 **30분 롤업** 집계를 저장해 KPI/차트 빠르게 제공

<br/>

## 3) 주요 기능

### ✅ 대시보드/관제
- KPI(주문/이벤트/알림) 요약 + 시계열 차트
- 최근 주문/최근 이벤트/최근 알림 리스트
- 기간 프리셋 기반 조회(예: 12h/24h/7d/30d)

### ✅ 주문/이벤트 추적
- 주문 상태(스냅샷) + 이벤트 이력 조회
- 주문 상세에서 관련 이벤트/알림을 함께 확인

### ✅ 이상감지 & HOLD/ALERT
- 사유 코드(예시)
  - `FUL-VALID` : 주문 정보 누락(주소/유저ID 등)
  - `FUL-INV` : 재고 부족
  - `FUL-FRAUD-USER` : 유저 기준 이상거래
  - `FUL-FRAUD-PROD` : 상품 기준 이상거래

### ✅ 운영 액션(알림 상태)
- `OPEN → ACK → RESOLVED`
- 필요 시 `RETRY_REQUESTED`로 재처리 요청

<br/>

## 4) 화면 (스크린샷/데모)

- [Dashboard 화면 캡처]
- [Orders 목록/상세 화면 캡처]
- [Events 목록 화면 캡처]
- [Alerts 목록 + 상태 변경 모달 캡처]

> 실제 캡처를 넣으면 README 완성도가 확 올라갑니다.

<br/>

## 5) 시스템 아키텍처

```text
(Producer) 주문/이벤트 생성
        |
        v
     Kafka (topic: event)
        |
        v
(Consumer) 검증/이상감지/적재
        |
        v
     PostgreSQL
   - orders_raw   : 원본 JSON 저장
   - orders       : 주문 스냅샷(현재 상태)
   - events       : 이벤트 이력
   - alerts/holds : 운영 알림(OPEN/ACK/RESOLVED/RETRY)
   - metrics_window: 30분 롤업 집계 저장소
        |
        v
     FastAPI (API)
        |
        v
Web UI (HTML/CSS/JS + Chart)
